module.exports=[19032,a=>{"use strict";a.s(["delJson",()=>e,"getJson",()=>d,"postJson",()=>c]);let b=process.env.NEXT_PUBLIC_API_BASE??"http://localhost:8080";async function c(a,c){let d={"Content-Type":"application/json"};console.debug("API fetch",a,{hasAuth:!!d.Authorization});let e=await fetch(`${b}${a}`,{method:"POST",headers:d,body:JSON.stringify(c)});if(!e.ok)throw Error(await e.text()||`HTTP ${e.status}`);return e.json()}async function d(a){let c={};console.debug("API fetch",a,{hasAuth:!!c.Authorization});let d=await fetch(`${b}${a}`,{headers:c,cache:"no-store"});if(!d.ok)throw Error(await d.text()||`HTTP ${d.status}`);return d.json()}async function e(a){let c={};console.debug("API delete",a,{hasAuth:!!c.Authorization});let d=await fetch(`${b}${a}`,{method:"DELETE",headers:c});if(!d.ok)throw Error(await d.text()||`HTTP ${d.status}`)}},55606,a=>{"use strict";a.s(["default",()=>g]);var b=a.i(62255),c=a.i(39059),d=a.i(19032),e=a.i(12866),f=a.i(23488);function g(){let[a,g]=(0,c.useState)(""),h=(0,f.useRouter)(),{authed:i}=(0,e.useAuth)(),[j,k]=(0,c.useState)(""),[l,m]=(0,c.useState)(null),[n,o]=(0,c.useState)(!1);async function p(b){b.preventDefault(),o(!0),m(null);try{let b=await (0,d.postJson)("/api/auth/register",{email:a,password:j});h.replace("/login"),m(`Registered ${b.email}`)}catch(b){let a=b instanceof Error?b.message:"Registration failed";m(a.includes("409")?"Email already registered":a||"Registration failed")}finally{o(!1)}}return(0,c.useEffect)(()=>{i&&h.replace("/")},[i,h]),(0,b.jsxs)("div",{className:"max-w-md mx-auto",children:[(0,b.jsx)("h1",{className:"text-2xl font-semibold mb-4",children:"Create account"}),(0,b.jsxs)("form",{className:"space-y-4",onSubmit:p,children:[(0,b.jsx)("input",{className:"input input-bordered w-full",placeholder:"email",type:"email",value:a,onChange:a=>g(a.target.value),required:!0}),(0,b.jsx)("input",{className:"input input-bordered w-full",placeholder:"password",type:"password",value:j,onChange:a=>k(a.target.value),required:!0}),(0,b.jsx)("button",{className:`btn btn-primary w-full ${n?"loading":""}`,disabled:n,children:"Register"})]}),l&&(0,b.jsx)("div",{className:"alert mt-4",children:l})]})}}];

//# sourceMappingURL=src_4cb07027._.js.map